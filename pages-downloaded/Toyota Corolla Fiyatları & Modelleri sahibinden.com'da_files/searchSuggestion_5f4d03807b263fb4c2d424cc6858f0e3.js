(function(){$(function(){function g(a,b){if(a&&b){var c=new Date;c.setTime(c.getTime()+9E5);cookieUtils.setCookie("searchType",a+"/"+b+"/LIST",c)}}function u(a,b){switch(a.suggestionType){case "Category":return a.breadcrumb.push(a.name),a.breadcrumb.join(" \x3e ");case "POI":return a.name.trim()+(b?" - \x3cspan class\x3d'suggestion-address'\x3e"+a.locationData.cityAndTownName+"\x3c/span\x3e":"");case "Store":case "Project":return a.name.trim();default:return a.phrase.trim()}}function x(a,b){var d=
0,g=0,h=!0,k=!1,v=!1,l=!1,m=!1;b.forEach(function(a){"Store"==a.value.suggestionType&&d++;"Project"==a.value.suggestionType&&g++});a.addClass("searchSuggestion");$.each(b,function(b,e){k||"Category"!=e.value.suggestionType?l||"POI"!=e.value.suggestionType?v||"Store"!=e.value.suggestionType?m||"Project"!=e.value.suggestionType||(b="\x3cspan\x3e"+p.projects+"\x3c/span\x3e",$('\x3cli class\x3d"categorySeparator"\x3e\x3c/li\x3e').append(b).appendTo(a),4<g&&(b="\x3cp\x3e"+_e("search.searchByKeyword.moreThanFiveProjects")+
'\x3c/p\x3e\x3cdiv class\x3d"linkWrapper"\x3e\x3cspan class\x3d"show-all-items show-all-projects"\x3e'+_e("search.searchByKeyword.showAllProjects")+"\x3c/span\x3e\x3c/div\x3e",$('\x3cli class\x3d"contentInfo"\x3e\x3c/li\x3e').append(b).appendTo(a)),m=h=!0):(b="\x3cspan\x3e"+p.stores+"\x3c/span\x3e",$('\x3cli class\x3d"storeSeparator"\x3e\x3c/li\x3e').append(b).appendTo(a),4<d&&(b="\x3cp\x3e"+_e("search.searchByKeyword.moreThanFiveStores")+'\x3c/p\x3e\x3cdiv class\x3d"linkWrapper"\x3e\x3cspan class\x3d"show-all-items show-all-stores"\x3e'+
_e("search.searchByKeyword.showAllStores")+"\x3c/span\x3e\x3c/div\x3e",$('\x3cli class\x3d"contentInfo"\x3e\x3c/li\x3e').append(b).appendTo(a)),v=h=!0):(b="\x3cspan\x3e"+p.poi+"\x3c/span\x3e",$('\x3cli class\x3d"categorySeparator"\x3e\x3c/li\x3e').append(b).appendTo(a),l=h=!0):(b="\x3cspan\x3e"+p.categories+"\x3c/span\x3e",$('\x3cli class\x3d"categorySeparator"\x3e\x3c/li\x3e').append(b).appendTo(a),k=h=!0);if(!(4<d&&"Store"==e.value.suggestionType||4<g&&"Project"==e.value.suggestionType)){b=h;var n=
c.val().replace("I","\u0131").toLowerCase().replace(/[\u011fg]/g,"[\u011fg]").replace(/[\u00fcu]/g,"[\u00fcu]").replace(/[\u015fs]/g,"[\u015fs]").replace(/[i\u0131]/g,"[i\u0131]").replace(/[\u00f6o]/g,"[\u00f6o]").replace(/[c\u00e7]/g,"[\u00e7c]"),n=e.label.replace(new RegExp("((^| )"+n+")","gi"),"\x3cspan\x3e$1\x3c/span\x3e"),f="Category"===e.value.suggestionType?'\x3cspan class\x3d"category-title"\x3e'+e.value.name+"\x3c/span\x3e":"";if(e.value.categoryDetail){for(f=e.value.categoryDetail.defaultIconUrl;f.includes("/");)f=
f.replace("/","");f='\x3ca href\x3d"" class\x3d"'+f.substring(0,f.indexOf("."))+'"\x3e'}else f=f?'\x3ca href\x3d"" title\x3d"'+e.label+'"\x3e'+f:'\x3ca href\x3d""\x3e';n=f+n+(e.desc?"\x3cbr/\x3e\x3cem\x3e"+e.desc+"\x3c/em\x3e":"")+"\x3c/a\x3e";f="";switch(e.value.suggestionType){case "Category":case "Project":f="searchSuggestionCategory";break;case "Store":f="searchSuggestionStore";break;case "POI":f="searchSuggestionPoi"}$('\x3cli class\x3d"'+(f+(b?" first-child":""))+'"\x3e\x3c/li\x3e').data("ui-autocomplete-item",
e).append(n).appendTo(a);h&&(h=!1)}})}function w(a,b){a=encodeURIComponent(a);a=k.replace("{phrase}",a);b&&(a+="\x26suggestedByAdmin\x3dtrue");window.location.href=a}function l(a){return a.trim().replace("I","\u0131").toLowerCase().replace(/\u011f/g,"g").replace(/\u00fc/g,"u").replace(/\u015f/g,"s").replace(/\u0131/g,"i").replace(/\u00f6/g,"o").replace(/\u00e7/g,"c").split(/\b\s+/).sort().join("-")}var m="#searchSuggestionLoadingWrapper{position:relative}#searchSuggestionLoading{display:none}.searchSuggestion.ui-autocomplete{font-family:'Lucida Grande','LucidaGrande',Arial,sans-serif;background:0;z-index:9999999!important;position:absolute;top:38px;left:5px;width:384px;border:0;background-color:#fff;box-shadow:1px 1px 4px 1px #666;border-radius:2px}.searchSuggestion.ui-menu .ui-menu-item{display:block;clear:left}.searchSuggestion.ui-menu .ui-menu-item a{font-size:11px;border:0;background:0;font-weight:700;float:none;display:block;color:#999;text-shadow:none;line-height:16px;padding:6px 24px 6px 20px;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.searchSuggestion.ui-menu .ui-menu-item a span:not(.suggestion-address){color:#00339f;font-weight:bold}.searchSuggestion.ui-menu .ui-menu-item a span.suggestion-address{font-size:9px}.searchSuggestion.ui-menu .ui-menu-item a span.category-title{display:block}.searchSuggestion.ui-menu .ui-menu-item a strong{color:#00339f;display:block}.searchSuggestion.ui-menu .ui-menu-item a em{color:#a8a8a8;font-size:10px;font-weight:normal;font-style:normal}.searchSuggestion.ui-menu .searchSuggestionCategory a{direction:rtl}.searchSuggestion.ui-menu .searchSuggestionStore a{color:#00339f;font-weight:bold}.searchSuggestion.ui-menu .categorySeparator,.searchSuggestion.ui-menu .storeSeparator{position:relative;margin-bottom:10px;top:0;clear:left;border-top:0;text-align:center;border-bottom:1px solid #d8d8d8}.searchSuggestion.ui-menu .categorySeparator span,.searchSuggestion.ui-menu .storeSeparator span{position:relative;padding:0 10px;background-color:#fff;display:inline;font-size:12px;top:6px}.searchSuggestion.ui-menu .contentInfo{padding:15px 24px 15px 14px;box-sizing:border-box;font-size:11px;font-weight:bold}.searchSuggestion.ui-menu .contentInfo .linkWrapper{text-align:right}.searchSuggestion.ui-menu .contentInfo .linkWrapper span{display:inline-block;margin-top:10px;padding:0;cursor:pointer;color:#039}.searchSuggestion.ui-menu .contentInfo .linkWrapper span:hover{text-decoration:underline}.searchSuggestion.ui-menu .noSuggestion{color:#999;font-size:11px;text-align:center;font-style:italic;border-top:0;padding:15px 0}.searchSuggestion.ui-menu .ui-menu-item:first-child,.searchSuggestion.ui-menu .ui-menu-item.first-child{border-top:0}.searchSuggestion.ui-menu .ui-menu-item a.ui-state-focus,.searchSuggestion.ui-menu .ui-menu-item a.ui-state-active{text-decoration:none;background-color:#eee;border-radius:0!important}.ui-helper-hidden-accessible{display:none}.ui-autocomplete{padding:10px 0!important}",
q=-1<m.indexOf("[[INCLUDE"),d=$("meta[http-equiv\x3dContent-Language]").attr("content");null==d&&"undefined"!=typeof documentLanguage&&(d=documentLanguage);null==d&&(d="tr");var k="tr"==d?"/kelime-ile-arama?query_text\x3d{phrase}":"/en/kelime-ile-arama?query_text\x3d{phrase}",t="tr"==d?"/arama/ara?query_text\x3d{phrase}\x26category\x3d{categoryId}":"/search/do?query_text\x3d{phrase}\x26category\x3d{categoryId}",y="tr"==d?"/haritada-emlak-arama?searchPoiItem\x3d{searchPoiItem}\x26category\x3d3518":
"/search-map?searchPoiItem\x3d{searchPoiItem}\x26category\x3d3518",p={categories:"tr"==d?"Kategoriler":"Categories",stores:"tr"==d?"Ma\u011fazalar":"Stores",poi:"tr"==d?"Araman\u0131z\u0131n Yak\u0131n\u0131ndaki Emlak \u0130lanlar\u0131":"Nearby Real Estates",projects:"tr"==d?"Projeler":"Projects"},c=$("#searchText:visible"),r,d=function(a){var b=l(c.val()),d;if(b)$("ul.searchSuggestion li a").each(function(){if(l($(this).text())===b)return d=$(this),!1}),a.preventDefault(),d?d.trigger("click"):
(g("TEXT","ENTER"),a.target.submit());else return c.hasClass("focused")||(c.focus(),$("#searchSuggestionForm button").attr("disabled","disabled")),a.preventDefault(),!1},z=function(a){0!==c.val().length&&(a.preventDefault(),g("TEXT","ENTER"),w(c.val(),!1))};0!=c.length&&(c.attr("autocomplete","off"),$.ajaxSetup({cache:!1}),c.before('\x3cdiv id\x3d"searchSuggestionLoadingWrapper"\x3e\x3cdiv id\x3d"searchSuggestionLoading"\x3e\x3c/div\x3e\x3c/div\x3e'),q?document.createStyleSheet?document.createStyleSheet("/resources/css/searchSuggestion/searchSuggestion.styl.css"):
$("head").append($('\x3clink rel\x3d"stylesheet" type\x3d"text/css" href\x3d"/resources/css/searchSuggestion/searchSuggestion.styl.css"/\x3e')):(q=location.protocol,"https:"==q&&(m=m.replace("http:",q)),$("head").append($('\x3cstyle type\x3d"text/css"\x3e'+m+"\x3c/style\x3e")),k="https://www.sahibinden.com"+k,t="https://www.sahibinden.com"+t),c.autocomplete({source:function(a,b){$("#searchSuggestionLoading").show();$.ajax({url:"/ajax/search/phrase",dataType:"json",data:{q:a.term,categoryId:0},success:function(a){$("#searchSuggestionLoading").hide();
var d=a.phrasesSuggestedByAdmin;r=null;b($.map(a.items,function(a){a.suggestedByAdmin=d;var b=u(a,!0),c;a:switch(a.suggestionType){case "Category":case "Project":c=a.company;break a;default:c=null}return{label:b,desc:c,value:a}}))}})},minLength:2,delay:500,focus:function(a,b){if(/^key/.test(a.originalEvent.originalEvent.type))return a=b.item.value,c.val(u(a,!1)),r=a,!1},select:function(a,b){a.preventDefault();r=a=b.item.value;switch(a.suggestionType){case "Category":g("TEXT","CATEGORY");a=t.replace("{phrase}",
"").replace("{categoryId}",a.categoryId);window.location.href=a;break;case "Store":g("TEXT","STORE");a="https://{url}.sahibinden.com".replace("{url}",a.url);window.location.href=a;break;case "POI":g("TEXT","POINT_OF_INTEREST");a=y.replace("{searchPoiItem}",a.id);window.location.href=a;break;case "Project":g("TEXT","PROJECT");a="https://www.sahibinden.com{url}".replace("{url}",a.url);window.location.href=a;break;default:g("TEXT",r?"SUGGESTION":"ENTER"),w(a.phrase,a.suggestedByAdmin)}},open:function(){$(".ui-autocomplete").css("z-index",
2E4)},close:function(){$(".ui-autocomplete").css("z-index",-1)}}).data("ui-autocomplete")._renderMenu=x,$(c).keyup(function(){l(c.val())?$("#searchSuggestionForm button").removeAttr("disabled"):$("#searchSuggestionForm button").attr("disabled","disabled")}).focus(function(){l(c.val())?$("#searchSuggestionForm button").removeAttr("disabled"):$("#searchSuggestionForm button").attr("disabled","disabled")}).focusout(function(){$("#searchSuggestionForm button").removeAttr("disabled")}),$("body").on("click",
".show-all-items",function(a){a.preventDefault();a=encodeURIComponent(c.val());var b=$(this).hasClass("show-all-stores")?"\x26type\x3dStore":$(this).hasClass("show-all-projects")?"\x26type\x3dProject":"";window.location.href=k.replace("{phrase}",a)+b}),$("body").on("submit","#searchSuggestionForm",d),$("body").on("click","#searchSuggestionForm button",z))})})();